@if(list) {
<div>
    @for (item of list; track $index) {
    <div [class]="'widget-item  relative inset-0 border-b border-gray-200 flex items-center justify-between ' + (absolute ? 'mt-2 ' : 'py-2 ')"
        [class.cursor-move]="isSortMode()" [class.opacity-50]="isSortMode() && draggedIndex === $index"
        [draggable]="isSortMode() && !disabled" (dragstart)="onDragStart($event, $index)" (dragend)="onDragEnd($event)"
        (dragover)="onDragOver($event)" (drop)="onDrop($event, $index)">
        <div class="flex items-center">
            @if (isSortMode()) {
            <div [class]="absolute ? 'absolute top-2 left-2' : ''">
                <button class="scale-button blue small cursor-move" type="button">
                    <svg xmlns="http://www.w3.org/2000/svg" id="icon_action_menu_default"
                        data-name="icon/action/menu/default" width="17" height="12.5" viewBox="0 0 17 12.5">
                        <path id="Combined_Shape" data-name="Combined Shape"
                            d="M1.063,12.5C.5,12.5,0,12.15,0,11.75S.5,11,1.063,11H15.937C16.5,11,17,11.35,17,11.75s-.5.75-1.063.75ZM.75,7a.75.75,0,0,1,0-1.5h15.5a.75.75,0,0,1,0,1.5Zm0-5.5A.769.769,0,0,1,0,.75.769.769,0,0,1,.75,0h15.5A.769.769,0,0,1,17,.75a.769.769,0,0,1-.75.751Z"
                            fill="#FFF" />
                    </svg>
                </button>
            </div>
            }
            <!--CUSTOM ITEM HERE-->
            @if (itemTemplate) {
            <ng-container
                *ngTemplateOutlet="itemTemplate; context: { $implicit: item, index: $index, sortMode: isSortMode() }"></ng-container>
            } @else {
            <div [class]="isSortMode() ? 'pl-2' : 'pr-2'">
                <div class="w-full h-full object-cover">
                    {{$index + 1}}. {{item.title || item.name}}
                </div>
            </div>
            }
            <!--END CUSTOM ITEM HERE-->
        </div>

        @if (!isSortMode()) {
        <div [class]="absolute ? 'absolute top-2 right-2' : ''">
            <app-edit-delete (onEdit)="onEdit(item)" (onDelete)="onDelete(item)"></app-edit-delete>
        </div>
        }

    </div>
    }
</div>
}
<div class="pt-2">
    <app-add-sort [title]="'Add'" [disabled]="!list.length" [isSortMode]="isSortMode()" (onAdd)="onAdd()"
        (onSort)="toggleSortMode()">
    </app-add-sort>
</div>